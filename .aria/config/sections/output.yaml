# Output Configuration
# ARIA Regulatory Intelligence Assistant - Output format settings

# Output configuration for regulatory documents
output:
  # Default output format for document generation
  # Options: markdown, html, pdf, word
  default_format: "markdown"

  # Enable parallel format generation when multiple formats requested
  parallel_generation: true

  # Fallback to Markdown if conversion fails
  fallback_to_markdown: true

# Format-specific settings
formats:
  # Markdown format settings
  markdown:
    extension: ".md"
    encoding: "utf-8"
    line_ending: "lf"  # lf (Unix) or crlf (Windows)
    toc_enabled: true
    heading_style: "atx"  # atx (#) or setext (underlined)

  # HTML format settings
  html:
    extension: ".html"
    encoding: "utf-8"
    css_theme: "regulatory-standard"  # CSS theme in .aria/templates/css/
    accessibility: "wcag-2.1-aa"  # WCAG 2.1 AA compliance
    semantic_markup: true  # Use semantic HTML5 elements
    include_outline: true  # Document outline for navigation
    syntax_highlighting: true
    responsive_design: true
    metadata:
      language: "ko"
      viewport: "width=device-width, initial-scale=1.0"
      charset: "UTF-8"

  # PDF format settings
  pdf:
    extension: ".pdf"
    page_size: "letter"  # letter, a4, legal
    orientation: "portrait"  # portrait or landscape
    margins: "0.75in"
    toc_enabled: true
    bookmarks: true  # PDF bookmarks/navigation
    tagged_pdf: true  # Tagged PDF for accessibility (PDF/UA)
    accessibility: "pdf-ua"  # PDF/UA compliance
    compression: "fast"  # fast, default, best
    metadata:
      include_creation_date: true
      include_modification_date: true
      include_author: true
      include_title: true
      include_keywords: true
    conversion_tool: "auto"  # auto, pandoc, wkhtmltopdf

  # Word format settings
  word:
    extension: ".docx"
    template: "regulatory-template.dotx"  # Template in .aria/templates/word/
    toc_enabled: true
    styles_enabled: true
    track_changes: false
    compatibility_mode: "latest"  # latest, 2013, 2010, 2007
    metadata:
      include_creation_date: true
      include_author: true
      include_title: true
      include_last_modified_by: true

# Company branding settings
branding:
  # Enable company-specific branding
  enabled: true

  # Company name and logo
  company:
    name: "Medical Device Company"
    logo_path: ".aria/templates/images/logo.png"
    favicon_path: ".aria/templates/images/favicon.ico"

  # Color scheme
  colors:
    primary: "#0066cc"
    secondary: "#004499"
    accent: "#ff6600"
    text: "#333333"
    background: "#ffffff"
    link: "#0066cc"
    link_visited: "#663399"
    warning: "#ff6600"
    error: "#cc0000"
    success: "#009900"

  # Typography
  typography:
    font_family: "Arial, Helvetica, sans-serif"
    heading_font: "Georgia, serif"
    monospace_font: "Courier New, monospace"
    base_font_size: "12pt"  # For PDF/Word
    line_height: 1.6
    heading_multiplier: 1.2

  # Header and footer
  header_footer:
    enabled: true
    header_include_logo: true
    header_include_title: true
    footer_include_page_number: true
    footer_include_confidentiality: true
    confidentiality_notice: "CONFIDENTIAL - Regulatory Document"

# Tool availability and validation
tools:
  # External tools required for format conversion
  pandoc:
    enabled: true
    check_availability: true
    fallback_to_internal: true
    version_minimum: "2.0"
    path: "pandoc"  # System path or auto-detect

  wkhtmltopdf:
    enabled: true
    check_availability: true
    fallback_to_internal: true
    version_minimum: "0.12"
    path: "wkhtmltopdf"  # System path or auto-detect

  # Tool validation on startup
  validate_on_startup: true
  warn_if_missing: true

# Accessibility compliance
accessibility:
  # WCAG 2.1 AA compliance for HTML output
  wcag_21_aa:
    enabled: true
    validate_on_output: true
    enforce_contrast_ratio: true  # 4.5:1 for normal text, 3:1 for large text
    enforce_alt_text: true  # Alt text for all images
    enforce_heading_hierarchy: true  # Proper heading structure
    enforce_link_descriptiveness: true  # Descriptive link text
    enforce_table_headers: true  # Table headers with scope attribute
    enforce_form_labels: true  # Labels for form inputs
    enforce_language_attribute: true  # lang attribute on html element

  # PDF/UA compliance for PDF output
  pdf_ua:
    enabled: true
    validate_on_output: true
    enforce_tagged_pdf: true
    enforce_reading_order: true
    enforce_alt_text: true
    enforce_heading_structure: true
    enforce_table_headers: true
    enforce_list_structure: true
    enforce_language: true

  # Screen reader compatibility
  screen_reader:
    enabled: true
    aria_labels: true
    role_attributes: true
    skip_navigation_links: true
    focus_indicators: true

# Validation and warning system
validation:
  # Validate output before completion
  enabled: true

  # Warning levels: error, warning, info
  warning_level: "warning"

  # Check for format conversion losses
  check_conversion_losses: true

  # Specific validation checks
  checks:
    - document_structure
    - regulatory_citations
    - hyperlinks
    - formatting_consistency
    - accessibility_compliance
    - metadata_completeness

  # Conversion loss tolerance
  # strict: Fail on any conversion loss
  # moderate: Warn on conversion loss, continue
  # lenient: Ignore conversion losses
  conversion_tolerance: "moderate"

# Template paths
templates:
  base_path: ".aria/templates"

  css:
    base: "css/regulatory-standard.css"
    print: "css/print.css"
    accessibility: "css/accessibility.css"

  word:
    template: "word/regulatory-template.dotx"
    styles: "word/styles.xml"

  pdf:
    header: "pdf/header.html"
    footer: "pdf/footer.html"
    cover_page: "pdf/cover.html"

  html:
    base_template: "html/base.html"
    document_template: "html/document.html"

# Output destination settings
destinations:
  # Default output directory
  default_output: ".aria/output"

  # Organize output by document type
  organize_by_type: true

  # Organize output by date
  organize_by_date: false

  # Include timestamp in output filename
  include_timestamp: true

  # Timestamp format
  timestamp_format: "2006-01-02-15-04"  # YYYY-MM-DD-HH-MM

# Regulatory submission specific settings
regulatory_submission:
  # FDA eCopy requirements
  fda_ecopy:
    enabled: true
    pdf_version: "1.7"
    pdf_a_compliance: "PDF/A-1b"
    enforce_bookmarks: true
    enforce_hyperlinks: true
    enforce_embedded_fonts: true

  # EU MDR requirements
  eu_mdr:
    enabled: true
    table_of_contents_required: true
    version_control_required: true
    annex_listing_required: true
    declaration_of_conformity_format: true

  # MFDS requirements
  mfds:
    enabled: true
    korean_language_required: true
    specific_format_requirements: true
    document_structure_requirements: true

# Logging and debugging
logging:
  # Enable conversion logging
  enabled: true

  # Log level: debug, info, warning, error
  level: "info"

  # Log conversion steps
  log_conversion_steps: true

  # Log validation results
  log_validation_results: true

  # Log file location
  log_file: ".aria/logs/output-conversion.log"
